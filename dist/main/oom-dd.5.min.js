//// Oom.Dd //// 1.0.2 //// March 2018 //// http://oom-dd.richplastow.com/ /////

"use strict";!function(e){var t={NAME:"Oom.Dd",VERSION:"1.0.2",
HOMEPAGE:"http://oom-dd.richplastow.com/",
REMARKS:"A VR website for Developing Dreams",LOADED_FIRST:!e.Oom
},n=function assignKIT(){
var t=void 0!==arguments[0]?arguments[0]:{}
;return Object.assign({},{generateUUID:function(){
var e=function(e,t){
return String.fromCharCode(Math.random()*(t-e)+e)}
;return"x".repeat(6).replace(/./g,function(t){return e(48,122)
}).replace(/[:-@\\[-\`]/g,function(t){return e(97,122)})},
applyDefault:function(e,t){
return!!t.hasOwnProperty(e.name)||!!e.hasOwnProperty("default")&&(t[e.name]="function"==typeof e.default?e.default(t):e.default,
!0)},validateType:function(e,t){
var n="KIT.validateType: ",a="constructor"
;if(null===e.type)return null===t?null:"is not null"
;if(void 0===e.type)return void 0===t?null:"is not undefined"
;if(!e.type.name)throw TypeError(n+e.name+"’s valid.type has no name")
;if(!t[a]||!t[a].name)throw TypeError(n+e.name+"’s value has no "+a+".name")
;return e.type.name===t[a].name?null:"has "+a+".name "+t[a].name+" not "+e.type.name
},validateRange:function(e,t){
return null!=e.min&&e.min>t?"is less than the minimum "+e.min:null!=e.max&&e.max<t?"is greater than the maximum "+e.max:null!=e.step&&t/e.step%1?t+" ÷ "+e.step+" leaves "+t/e.step%1:void 0
},isValid:function(e,t){var n="KIT.isValid: "+e.name+"’s "
;if("string"==typeof e.type)switch(e.type){case"undefined":
return e.type===(void 0===t?"undefined":$traceurRuntime.typeof(t))
;case"color":return/^#[0-9a-fA-F]{6}$/.test(t);case"nnint":
return Number.isInteger(t);case"null":return null===t;default:
throw TypeError(n+"valid.type is '"+e.type+"'")}
if(Number===e.type)return"number"==typeof t&&!Number.isNaN(t)
;if(null===e.type)return null===t
;if(void 0===e.type)return void 0===t
;if(!e.type.name)throw TypeError(n+"valid.type has no name")
;if(!t.constructor||!t.constructor.name)throw TypeError(n+"value has no constructor.name")
;return e.type.name===t.constructor.name},getNow:function(){
var t
;if("object"===$traceurRuntime.typeof(e.process)&&"function"==typeof e.process.hrtime){
var n=e.process.hrtime();t=(1e9*n[0]+n[1])/1e6
}else t=e.performance.now();return t},define:{constant:{
stat:function(e,t){return n.define.constant.any(e,t)},
attr:function(e,t,a){if(t.isFn){var r=t.default(a)
;Object.defineProperty(e,t.name,{get:function(){return r},
set:function(e){},configurable:!0,enumerable:!0})
}else n.define.constant.any(e,t)},any:function(e,t){
return Object.defineProperty(e,t.name,{value:t.default,
configurable:!1,enumerable:!0,writable:!1})}},readOnly:{
stat:function(e,t){var a=t.perClass?e:t.definedIn.stat
;n.define.shadow(a,t),n.define.readOnly.any(e,t,a)},
attr:function(e,t){
n.define.shadow(e,t),n.define.readOnly.any(e,t,e)},
any:function(e,t,n){return Object.defineProperty(e,t.name,{
get:function(){return n["_"+t.name]},set:function(e){},
configurable:!0,enumerable:!0})}},readWrite:{stat:function(e,t){
var a=t.perClass?e:t.definedIn.stat
;n.define.shadow(a,t),n.define.readWrite.any(e,t,a)},
attr:function(e,t){
n.define.shadow(e,t),n.define.readWrite.any(e,t,e)},
any:function(e,t,a){return Object.defineProperty(e,t.name,{
get:function(){return a["_"+t.name]},set:function(e){
if(n.isValid(t,e))return a["_"+t.name]=e
;if("function"==typeof t.type){var r=t.type(e)
;return n.isValid(t,r)?a["_"+t.name]=r:void 0}},configurable:!0,
enumerable:!0})}},shadow:function(e,t){
return Object.defineProperty(e,"_"+t.name,{value:t.default,
configurable:!0,enumerable:!0,writable:!0})}},
name:function(e,t){return Object.defineProperty(e,"name",{
value:t,configurable:!1})},wrapReadOnly:function(e){},
countKeyMatches:function(e,t){
var n=void 0!==arguments[2]?arguments[2]:0
;for(var a in e)t(a)&&n++;return n},stringOrName:function(e){
return"string"==typeof e?e:e.name},isConstant:function(e){
return/^[A-Z][_A-Z0-9]*$/.test(e)},isReadOnly:function(e){
return-1!==e.indexOf("_")&&/^[a-z][_a-z0-9]+$/.test(e)},
isReadWrite:function(e){return/^[a-z][A-Za-z0-9]*$/.test(e)},
normaliseSchema:function(e,t){var a={}
;for(var r in t)for(var i in a[r]={},t[r]){
var o="KIT.normaliseSchema: "+i+"’s ",s=t[r][i],u=a[r][i]={}
;u.name=i,u.default="object"===(void 0===s?"undefined":$traceurRuntime.typeof(s))?s.default:s,
u.isFn="function"==typeof u.default;var l={array:Array,
boolean:Boolean,function:Function,number:Number,object:Object,
string:String,symbol:Symbol}
;if(s.hasOwnProperty("type"))if(l[s.type])u.type=l[s.type];else if({
undefined:1,color:1,nnint:1,null:1}[s.type])u.type=s.type;else{
if("function"!=typeof s.type)throw TypeError(o+"inDesc.type is not a string or a function")
;if(!s.type.name)throw TypeError(o+"inDesc.type has no name")
;u.type=s.type}else u.type=u.default.constructor
;u.typeStr=n.stringOrName(u.type),
u.definedIn=e,u.definedInStr=e.name,u.perClass=null==s.perClass||s.perClass,
u.remarks=s.remarks||"A"+(/^[aeiou]/.test(u.typeStr)?"n ":" ")+u.typeStr
}return a},oomSchemaToAFrameSchema:function(e){return{hilite:{
type:"color",default:"#ff00ff"}}},
oomSchemaToAFrameSchema2:function(e){return{hilite:{
type:"color",default:"#ff00ff"},positionX:{type:"number",
default:0},positionY:{type:"number",default:0},positionZ:{
type:"number",default:0},rotationX:{type:"number",default:0},
rotationY:{type:"number",default:0},rotationZ:{type:"number",
default:0}}}},t)
}(t.LOADED_FIRST||!e.Oom.KIT?{}:e.Oom.KIT),a=e.Oom=t.LOADED_FIRST?function(){
return $traceurRuntime.createClass(function Oom(){
void 0!==arguments[0]&&arguments[0]
;var e=this.constructor.schema.attr,t=this.attr={}
;for(var a in e){var r=e[a]
;if(n.isConstant(a))n.define.constant.attr(t,r,this);else if(n.isReadOnly(a))n.define.readOnly.attr(t,r,this);else{
if(!n.isReadWrite(a))throw Error("Oom:constructor(): "+a+" is an invalid attribute name")
;n.define.readWrite.attr(t,r,this)}}},{reset:function(){
var e=this.constructor.schema.attr
;for(var t in e)if(!n.isConstant(t)){var a=e[t]
;n.isReadOnly(t)?this.attr["_"+t]=a.default:this.attr[t]=a.default
}}},{reset:function(){var e=this.schema.stat
;for(var t in e)if(!n.isConstant(t)){
var a=e[t],r=a.perClass?this.stat:a.definedIn.stat
;n.isReadOnly(t)?r["_"+t]=a.default:r[t]=a.default}},
mixin:function(e){var t=this.schema,a=n.normaliseSchema(this,e)
;this.schema={},this.schema.stat=Object.assign({},t.stat,a.stat),
this.schema.attr=Object.assign({},t.attr,a.attr)
;var r=this.stat={};for(var i in this.schema.stat){
var o=this.schema.stat[i]
;if(n.isConstant(i))n.define.constant.stat(r,o);else if(n.isReadOnly(i))n.define.readOnly.stat(r,o);else{
if(!n.isReadWrite(i))throw Error("Oom.mixin(): "+i+" is an invalid static name")
;n.define.readWrite.stat(r,o)}}}})}():e.Oom
;n.name(a,"Oom"),a.KIT=n,t.LOADED_FIRST&&(a.schema={},a.mixin({
title:"The Base Schema",
remarks:"The foundational schema, defined by the base Oom class",
location:"src/main/Bases.6.js",config:{},stat:{NAME:"Oom",
VERSION:t.VERSION,HOMEPAGE:"http://oom.loop.coop/",
REMARKS:"Base class for all Oom classes",inst_tally:{
remarks:"The number of Oom instantiations made so far",default:0
},hilite:{
remarks:"General purpose, useful as a dev label or status",
default:"#112233",type:"color"}},attr:{hilite:{
remarks:"General purpose, useful as a dev label or status",
default:"#445566",type:"color"}}
})),Object.defineProperty(a,"memberTableVueTemplate",{
get:function(e){
return'\n<div :class="\'member-table \'+objname">\n  <table :class="{ hid:doHide }">\n    <caption v-html="caption"></caption>\n    <tr>\n      <th>Name</th>\n      <th>Value</th>\n      <th>Defined In</th>\n      <th>Type</th>\n      <th>Default</th>\n    </tr>\n    <tr v-for="val, key in obj" v-bind:class="\'Oom-\'+key">\n      <td class="key">{{key}}</td>\n      <td class="val">\n        <input v-if="isReadWrite(key)"    class="read-write" v-model="obj[key]">\n        <span v-else-if="isReadOnly(key)" class="read-only">{{val}}</span>\n        <span v-else-if="isConstant(key)" class="constant">{{val}}</span>\n        <span v-else                      class="private">{{val}}</span>\n      </td>\n      <td class="defined-in">{{schema[key] ? schema[key].definedInStr : \'-\'}}</td>\n      <td class="type">{{schema[key] ? schema[key].typeStr : \'-\'}}</td>\n      <td class="is-default">{{schema[key] ? schema[key].isFn ? \'fn\' : schema[key].default === val ? \'√\' : \'x\' : \'-\'}}</td>\n    </tr>\n  </table>\n</div>\n'
}}),Object.defineProperty(a,"devMainVueTemplate",{
get:function(e){
return'\n<div class="dev-main col-12">\n  <h4>{{stat.NAME}}<em>#{{attr.UUID}}</em></h4>\n  <member-table :schema="schema.stat" :obj="stat" objname="stat"\n    :do-hide="ui.hideData"\n    :caption="\'<b style=color:\'+stat.hilite+\'>&#11044;</b> Static\'">\n  </member-table>\n  <member-table :schema="schema.attr" :obj="attr" objname="attr"\n    :do-hide="ui.hideData"\n    :caption="\'<b style=color:\'+attr.hilite+\'>&#11044;</b> Attribute\'">\n  </member-table>\n</div>\n'
}}),a.devMainVue=function(t){return{
template:a.devMainVueTemplate,data:function(){
var e=t.constructor;return{schema:e.schema,stat:e.stat,
attr:t.attr,ui:{hideData:!1,hideInners:!1}}},methods:{},
beforeCreate:function(){
var e=n,t=e.isReadWrite,r=e.isReadOnly,i=e.isConstant,o=e.stringOrName
;Vue.component("member-table",{
template:a.memberTableVueTemplate,props:{doHide:Boolean,
caption:String,schema:Object,obj:Object,objname:String},
methods:{isReadWrite:t,isReadOnly:r,isConstant:i,stringOrName:o}
})},created:function(){n.wrapReadOnly(e.Oom.stat)}}
},a.devThumbAFrameVueTemplate=function(e,t){
var n=e.constructor.name.toLowerCase().replace(/\./g,"-")
;return'\n<a-entity position="0 10 0">\n  <a-'+n+'-devthumb oom-event class="stat"\n            position="-0.7 1.5 -1.5"\n            :hilite="stat.hilite">\n    <a-animation mixin="rotate"></a-animation>\n  </a-'+n+"-devthumb>\n  <a-"+n+'-devthumb oom-event class="attr"\n            position="0.7 1.5 -1.5"\n            :hilite="attr.hilite">\n    <a-animation mixin="rotate"></a-animation>\n  </a-'+n+'-devthumb>\n</a-entity>\n\x3c!--\n            :material="\'shader:flat; color:\'+attr.hilite">\n  <a-box oom-event class="stat"\n         position="-0.7 1.5 -1.5" :material="\'shader:flat; color:\'+stat.hilite">\n    <a-animation mixin="rotate"></a-animation>\n  </a-box>\n  <a-box oom-event class="attr"\n         position="0.7 1.5 -1.5" :material="\'shader:flat; color:\'+attr.hilite">\n    <a-animation mixin="rotate"></a-animation>\n  </a-box>\n--\x3e\n'
},a.devThumbAFrameVue=function(e){return{
template:a.devThumbAFrameVueTemplate(e),data:function(){
var t=e.constructor;return{schema:t.schema,stat:t.stat,
attr:e.attr}}}},a.devThumbAFrame=function(t){return{
schema:n.oomSchemaToAFrameSchema(e.Oom.schema),init:function(){
this.el.setAttribute("material","shader:flat; color:pink")},
update:function(e){
for(var t in AFRAME.utils.diff(e,this.data))e[t]!==this.data[t]&&this.updateAttribute(t)
},tick:function(){},remove:function(){},pause:function(){},
play:function(){},updateAttribute:function(e){var t=this,n={
hilite:function(e){return t.el.setAttribute("material",{color:e
})}};if(!n[e])return console.warn(e+" not recognised")
;n[e](this.data[e])}}},a.devThumbAFramePrimative=function(e,t){
var n
;return AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{
defaultComponents:(n={},Object.defineProperty(n,t,{value:{
hilite:"#ff0000"},configurable:!0,enumerable:!0,writable:!0
}),Object.defineProperty(n,"geometry",{value:{primitive:"box"},
configurable:!0,enumerable:!0,writable:!0}),n),mappings:{
hilite:t+".hilite"}})},a.Dd=function(e){
return $traceurRuntime.createClass(function $__1(){
var e=void 0!==arguments[0]?arguments[0]:{}
;$traceurRuntime.superConstructor($__1).call(this,e)},{},{},e)
}(a),n.name(a.Dd,"Oom.Dd"),a.Dd.mixin({
title:"The Oom.Dd Schema",
remarks:"Defines metadata for this module",
location:"src/main/Bases.6.js",config:{},stat:t,attr:{}})
}("object"===("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this),
function(e){var t=e.Oom,n=t.KIT,a=t.Dd.Cloud=function(e){
return $traceurRuntime.createClass(function $__0(){
var e=void 0!==arguments[0]?arguments[0]:{}
;$traceurRuntime.superConstructor($__0).call(this,e)},{},{},e)
}(t.Dd);n.name(a,"Oom.Dd.Cloud"),t.Dd.Cloud.mixin({
title:"The Oom.Dd.Cloud Schema",
remarks:"Defines metadata for this module",
location:"src/main/Cloud.6.js",config:{},stat:{
NAME:"Oom.Dd.Cloud",
REMARKS:"A single cloud, floating in the DD sky",positionX:-.7,
positionY:1.5,positionZ:-1.5,rotationX:0,rotationY:0,rotationZ:0
},attr:{positionX:.7,positionY:1.5,positionZ:-1.5,rotationX:0,
rotationY:0,rotationZ:0}})
}("object"===("undefined"==typeof global?"undefined":$traceurRuntime.typeof(global))?global:this);



//// Made by Oomtility Make 1.3.7 //\\//\\ http://oomtility.loop.coop //////////
